(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{455:function(e,t,s){"use strict";s.r(t);var n=s(27),a=Object(n.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"cordova-device-plugin-and-deviceready-event"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cordova-device-plugin-and-deviceready-event"}},[e._v("#")]),e._v(" Cordova Device plugin and DeviceReady Event")]),e._v(" "),s("h2",{attrs:{id:"deviceready-event"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deviceready-event"}},[e._v("#")]),e._v(" deviceready event")]),e._v(" "),s("p",[e._v("When we create websites that need JavaScript support, our typical approach is to use a DOMContentLoaded event listener.")]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[e._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"DOMContentLoaded"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" init"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//start working with the webpage here")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])]),s("p",[e._v("When it comes to mobile apps, the most important thing tends to be access to the plugins. plugins will take longer to activate than the browser will take to read through the DOM. Additionally, if you put your scripts at the bottom of the "),s("code",[e._v("<body>")]),e._v(" in your HTML then the scripts will be running after the DOM is read anyway.")]),e._v(" "),s("p",[e._v("So, for mobile applications using Cordova, we need to wait for a special event called deviceready. This event tells us that the browser has read through the cordova.js file and then through the scripts for each included plugin and that they are ready to be used.")]),e._v(" "),s("p",[e._v("So, in our mobile app, once we start testing in an emulator or an actual device, this is the code we use:")]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[e._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"deviceready"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" init"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//mobile device is ready to play with us")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])]),s("p",[s("strong",[e._v("REMEMBER")]),e._v(": the browser on your desktop / laptop will NOT recognize this event, nor will it work with most plugins. You cannot test in your browser if you are using this event.")]),e._v(" "),s("p",[e._v("If you want to run a test in your code to know whether to use "),s("code",[e._v("deviceready")]),e._v(" or "),s("code",[e._v("DOMContentLoaded")]),e._v(", we can check for the existence of the "),s("code",[e._v("cordova")]),e._v(" object and for the "),s("code",[e._v("deviceready")]),e._v(" property.")]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("let")]),e._v(" ready "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"cordova"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" window "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("?")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"deviceready"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"DOMContentLoaded"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//check if cordova object exists and use deviceready if it does")]),e._v("\ndocument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("ready"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" init"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//assuming that init is your function to run to start your app")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("YouTube",{attrs:{title:"device ready event",url:"https://www.youtube.com/embed/WE0q7zEsR94"}}),e._v(" "),s("h2",{attrs:{id:"device-plugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#device-plugin"}},[e._v("#")]),e._v(" Device plugin")]),e._v(" "),s("p",[e._v("One of the Core plugins for Cordova is the "),s("code",[e._v("device")]),e._v(" plugin. This lets you check on the type of device, version number, OS version, and unique device ids.")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://cordova.apache.org/docs/en/9.x/reference/cordova-plugin-device/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Device plugin reference"),s("OutboundLink")],1)]),e._v(" "),s("YouTube",{attrs:{title:"device plugin and testing mobile apps in browser",url:"https://youtube.com/embed/WyjmmDWqmzk"}}),e._v(" "),s("p",[e._v("When building Android Apps, we can actually connect a real device to our computer, and then in Chrome, go to the developer tools and look for all the "),s("code",[e._v("remote devices")]),e._v(" that are connected.")]),e._v(" "),s("p",[e._v("Chrome will then display a mirror image of what is happening on the device screen. You can then open the "),s("code",[e._v("console")]),e._v(" in the developer tools and see all your console messages and any JavaScript errors.")]),e._v(" "),s("YouTube",{attrs:{title:"Mobile testing with Chrome for Android",url:"https://www.youtube.com/embed/vRPxwuLhLaM"}}),e._v(" "),s("p",[s("RouterLink",{attrs:{to:"/modules/cordova-pages/"}},[e._v("Back to Week 11 main page")])],1)],1)}),[],!1,null,null,null);t.default=a.exports}}]);